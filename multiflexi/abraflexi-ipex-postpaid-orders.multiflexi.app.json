{
    "$schema": "https://raw.githubusercontent.com/VitexSoftware/php-vitexsoftware-multiflexi-core/refs/heads/main/multiflexi.app.schema.json",
    "schemaVersion": "3.0.0",
    "uuid": "51b247aa-fd48-44d7-8494-8c86b05e5a66",
    "name": {
        "en": "Postpaid IPEX to AbraFlexi Orders",
        "cs": "Postpaid IPEX to AbraFlexi Orders"
    },
    "description": {
        "en": "Generate AbraFlexi orders from postpaid Ipex calls",
        "cs": "Generate AbraFlexi orders from postpaid Ipex calls"
    },
    "tags": [
        "AbraFlexi",
        "Ipex",
        "Invoice"
    ],
    "homepage": "https://github.com/Spoje-NET/abraflexi-ipex",
    "executable": "abraflexi-ipex-postpaid-orders",
    "environment": {
        "APP_DEBUG": {
            "type": "bool",
            "description": {
                "en": "Show debug messages",
                "cs": "Show debug messages"
            },
            "defval": "False",
            "required": false,
            "category": "Behavior"
        },
        "RESULT_FILE": {
            "type": "string",
            "description": {
                "en": "write output json data to",
                "cs": "write output json data to"
            },
            "defval": "multiflexi_ipex_orders_{ABRAFLEXI_COMPANY}.json",
            "required": false,
            "category": "Other"
        },
        "EASE_LOGGER": {
            "type": "string",
            "description": {
                "en": "Logger type",
                "cs": "Logger type"
            },
            "defval": "syslog|console",
            "required": false,
            "category": "Behavior"
        },
        "EMAIL_FROM": {
            "type": "string",
            "description": {
                "en": "Email from address",
                "cs": "Email from address"
            },
            "defval": "michal.tomasek@spojenet.cz",
            "required": true,
            "category": "Other"
        },
        "SEND_INFO_TO": {
            "type": "string",
            "description": {
                "en": "Send info to address",
                "cs": "Send info to address"
            },
            "defval": "",
            "required": true,
            "category": "Other"
        },
        "ABRAFLEXI_URL": {
            "type": "string",
            "description": {
                "en": "AbraFlexi URL",
                "cs": "AbraFlexi URL"
            },
            "defval": "",
            "required": true,
            "category": "API"
        },
        "ABRAFLEXI_LOGIN": {
            "type": "string",
            "description": {
                "en": "AbraFlexi login",
                "cs": "AbraFlexi login"
            },
            "defval": "",
            "required": true,
            "category": "API"
        },
        "ABRAFLEXI_PASSWORD": {
            "type": "password",
            "description": {
                "en": "AbraFlexi password",
                "cs": "AbraFlexi password"
            },
            "defval": "",
            "required": true,
            "category": "API"
        },
        "ABRAFLEXI_COMPANY": {
            "type": "string",
            "description": {
                "en": "AbraFlexi company",
                "cs": "AbraFlexi company"
            },
            "defval": "",
            "required": true,
            "category": "API"
        },
        "ABRAFLEXI_ORDERTYPE": {
            "type": "string",
            "description": {
                "en": "AbraFlexi order type",
                "cs": "AbraFlexi order type"
            },
            "defval": "code:OBP_VOIP",
            "required": true,
            "category": "API"
        },
        "ABRAFLEXI_PRODUCT": {
            "type": "string",
            "description": {
                "en": "AbraFlexi product",
                "cs": "AbraFlexi product"
            },
            "defval": "code:IPEX_POSTPAID",
            "required": true,
            "category": "API"
        },
        "ABRAFLEXI_DOCTYPE": {
            "type": "string",
            "description": {
                "en": "AbraFlexi document type",
                "cs": "AbraFlexi document type"
            },
            "defval": "code:FAKTURA",
            "required": true,
            "category": "API"
        },
        "ABRAFLEXI_CREATE_EMPTY_ORDERS": {
            "type": "bool",
            "description": {
                "en": "Create empty orders",
                "cs": "Create empty orders"
            },
            "defval": "False",
            "required": false,
            "category": "API"
        },
        "ABRAFLEXI_SKIPLIST": {
            "type": "string",
            "description": {
                "en": "AbraFlexi skip list",
                "cs": "AbraFlexi skip list"
            },
            "defval": "",
            "required": false,
            "category": "API"
        },
        "IPEX_URL": {
            "type": "string",
            "description": {
                "en": "Ipex URL",
                "cs": "Ipex URL"
            },
            "defval": "https://restapi.ipex.cz",
            "required": true,
            "category": "Other"
        },
        "IPEX_LOGIN": {
            "type": "string",
            "description": {
                "en": "Ipex login",
                "cs": "Ipex login"
            },
            "defval": "",
            "required": true,
            "category": "Other"
        },
        "IPEX_PASSWORD": {
            "type": "password",
            "description": {
                "en": "Ipex password",
                "cs": "Ipex password"
            },
            "defval": "",
            "required": true,
            "category": "Security"
        },
        "MONTH_OFFSET": {
            "type": "integer",
            "description": {
                "en": "Month offset for processing (negative values for past months, e.g. -1 for last month)",
                "cs": "Month offset for processing (negative values for past months, e.g. -1 for last month)"
            },
            "defval": -1,
            "required": false,
            "category": "Other"
        },
        "ATTACH_CALL_LIST_PDF": {
            "type": "bool",
            "description": {
                "en": "Enable attaching PDF call list to orders in AbraFlexi",
                "cs": "Enable attaching PDF call list to orders in AbraFlexi"
            },
            "defval": "True",
            "required": false,
            "category": "Other"
        },
        "SEND_CALL_LIST_EMAIL": {
            "type": "bool",
            "description": {
                "en": "Enable sending call list PDF by email to customers",
                "cs": "Enable odeslating call list PDF by ee-mail to customers"
            },
            "defval": "True",
            "required": false,
            "category": "Other"
        }
    },
    "produces": {
        "orders": {
            "description": {
                "en": "AbraFlexi orders created from IPEX calls",
                "cs": "AbraFlexi orders created from IPEX calls"
            },
            "format": "json"
        }
    }
}
